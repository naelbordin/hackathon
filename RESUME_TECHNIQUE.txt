SkillBridge — résumé technique du projet

Architecture
- Application web Flask structurée par blueprints :
  - / : page d’accueil
  - /chat : assistant conversationnel RNCP
  - /resume : analyse de CV PDF
  - /about : page de contexte
- Routes : app/routes
- Services : app/services (store + extraction PDF)
- Templates Jinja2 : app/templates (base, home, index, resume, about, error)
- UI : app/static/styles.css + app/static/app.js
- Données RNCP chargées depuis CSV : export-fiches-csv-2026-02-02/

Données et indexation
- Chargement CSV (standard, ROME, Formacode, blocs de compétences).
- Modèle Fiche agrège les champs et construit des textes par catégorie.
- Indexation en mémoire :
  - TOKEN_INDEX par fiche pour le scoring
  - CATEGORY_INDEX par catégorie
  - Vocabulaires métiers par catégorie (job_title, domaine, competences, rome, formacode)
- Préchargement au démarrage pour éviter un temps de latence lors du premier accès.

Recherche
- Les requêtes sont découpées par catégorie et filtrées par vocabulaire métier.
- Scoring basé sur occurrences et correspondances exactes par catégorie.
- Tri selon ratio de correspondance, score brut, statut actif et niveau.
- Fallback : résultats “possibles” si peu de correspondances exactes.

Analyse CV
- Extraction texte PDF via pdfplumber (fallback PyPDF2).
- Détection du titre (en ignorant nom/email/téléphone), séparation par “|”.
- Déduction du domaine et des compétences à partir des vocabulaires RNCP.
- Génération des critères de recherche (job_title, domaine, competences, niveau).

NLP léger (optionnel)
- spaCy fr_core_news_sm (léger) pour lemmatisation et meilleure extraction.
- Fallback automatique vers l’heuristique si le modèle n’est pas disponible.

UI
- Affichage par groupes : correspondances fortes + correspondances possibles.
- Badge RNCP cliquable vers France Compétences via filtre rncp_url.
- Navigation multi-pages (accueil, assistant, CV, à propos).

Dépendances
- Flask
- pdfplumber (avec fallback PyPDF2)
- spaCy (optionnel, modèle fr_core_news_sm)

Configuration et exécution
- FLASK_SECRET_KEY requis.
- Makefile : make run / make run-dev.
